"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const Path_1=__importDefault(require("#/Tools/System/Path")),xaelion_1=__importDefault(require("#/Configs/xaelion")),promises_1=require("fs/promises"),decompress_1=__importDefault(require("decompress")),fs_1=require("fs"),backup_1=__importDefault(require("./backup"));async function default_1(){if(!(0,fs_1.existsSync)("update.zip"))throw new Error("Not found update");await(0,backup_1.default)(),(0,Path_1.default)().ignore([...xaelion_1.default.storagePaths,...xaelion_1.default.depsPaths,"update.zip"]).clear(),await(0,decompress_1.default)("update.zip","."),await(0,promises_1.unlink)("update.zip")}exports.default=default_1;