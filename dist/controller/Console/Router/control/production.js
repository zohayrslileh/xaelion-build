"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const xaelion_1=__importDefault(require("#/Configs/xaelion")),package_1=__importDefault(require("#/Configs/package")),Json_1=__importDefault(require("#/Tools/System/Json")),Path_1=__importDefault(require("#/Tools/System/Path")),path_1=require("path");async function default_1(){var e=(0,path_1.join)("build",package_1.default.version);await(0,Path_1.default)(e,{force:!0}).clear(),await(0,Path_1.default)().ignore([...xaelion_1.default.storagePaths,...xaelion_1.default.depsPaths,...xaelion_1.default.devPaths||[]]).copy(e),(0,Json_1.default)((0,path_1.join)(e,"package.json")).update(e=>({...e,devDependencies:void 0,scripts:e.proScripts,proScripts:void 0})),(0,Json_1.default)((0,path_1.join)(e,"xaelion.json")).update(e=>({...e,devPaths:void 0,depsPaths:[e.depsPaths[0]]})),await(0,Path_1.default)(e).compress((0,path_1.join)("build",`${package_1.default.name}@${package_1.default.version}.zip`)),await(0,Path_1.default)(e).clear()}exports.default=default_1;