"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Router{server;Namespace;routes=[];deepRouter;constructor(e){this.deepRouter=e,this.route=this.route.bind(this),this.execute=this.execute.bind(this)}route(e,t){if(!this.server)throw new Error("Server not found");t.execute(this.server,[...this.routes,e])}get namespace(){if(!this.Namespace){if(!this.server)throw new Error("Server not found");this.Namespace=this.server.of("/"+this.routes.join("/"))}return this.Namespace}execute(e,t){this.server=e,t&&(this.routes=t),this.deepRouter(Object.assign(this,{execute:void 0}))}}function router(e){return new Router(e)}exports.default=router;